[
 {
  "breadcrumbs": null,
  "content_type": "Page Builder",
  "context_script": "",
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 1,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "frappe.ready(function() {\n\n\nfrappe.call({\n    method: 'webs.webs.doctype.service_request.service_request.get_service_request_data',\n    callback: function(r) {\n        if (r.message) {\n            var data = r.message;\n            \n            console.log(data)\n            if (data.customer_name){\n                $('#customer_name').text(data.customer_name);\n            }\n            else{\n                $('#customer_name').text('-');\n            }\n            if (data.requested_date){\n                $('#requested_date').text(data.requested_date);\n            }\n             else{\n                $('#requested_date').text('-');\n            }\n            \n            if (data.status){\n                $('#status').text(data.status);\n            }\n             else{\n                $('#status').text('-');\n            }\n\n            var serviceDetails = data.service_details;\n            var serviceDetailsBody = $('#service_details_body');\n            serviceDetailsBody.empty(); \n            \n            serviceDetails.forEach(function(item) {\n                var row = `\n                    <tr class=\"service-detail\">\n                        <td class=\"description\">${item.description}</td>\n                        <td class=\"price\">${item.price}</td>\n                        <td class=\"quantity\">${item.quantity}</td>\n                        <td class=\"total\">${item.total}</td>\n                        \n                    </tr>\n                `;\n                serviceDetailsBody.append(row);\n            });\n            if (!data.service_details.length){\n                var row = `\n                    <tr class=\"service-detail\">\n                        <td class=\"no_data\" colspan=\"4\"  style=\"text-align: center;\">No Data</td>\n                    </tr>\n                `;\n                serviceDetailsBody.append(row);\n            }\n        }\n    \n     \n        }\n    });\n    \n        frappe.call({\n        method: \"webs.webs.doctype.service_request.service_request.show_or_hide_fields\",\n        args: {\n           web_page: true,\n        },\n        callback: function(r) {\n            let res = r.message\n            if (res){\n                for (let i in res){\n                   $( `#${res[i]}` ).hide();\n                   $( `.${res[i]}` ).hide();\n                }\n            }\n            \n            \n        }\n    });  \n    \n    \n    \n     \n});\n",
  "main_section": null,
  "main_section_html": null,
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2024-06-06 21:35:34.698442",
  "module": "webs",
  "name": "service-request",
  "page_blocks": [
   {
    "add_background_image": 0,
    "add_border_at_bottom": 0,
    "add_border_at_top": 0,
    "add_bottom_padding": 1,
    "add_container": 1,
    "add_shade": 0,
    "add_top_padding": 1,
    "background_image": null,
    "css_class": null,
    "hide_block": 0,
    "parent": "service-request",
    "parentfield": "page_blocks",
    "parenttype": "Web Page",
    "section_id": null,
    "web_template": "Service request document view",
    "web_template_values": "{\"customer_name\":\"s\",\"requested_date\":\"s\",\"status\":\"Approve\",\"service_details\":\"r6qn6e6pu7\"}"
   }
  ],
  "published": 1,
  "route": "sr/<name>",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Service Request",
  "website_sidebar": null
 }
]